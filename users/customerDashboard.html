<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Customer Dashboard - Nibash</title>
  <link rel="stylesheet" href="../css/customerDashboard.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    /* small helpers for modal + states */
    .hidden { display: none !important; }
    .muted { color:#6b7280; }
    .dialog-backdrop { position:fixed; inset:0; background:#0006; display:none; align-items:center; justify-content:center; padding:20px; }
    .dialog { width:100%; max-width:520px; background:#fff; border-radius:16px; border:1px solid #e5e7eb; box-shadow:0 10px 30px #0003; padding:16px; }
    .dialog header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .dialog footer { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }
    .form-grid { display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:12px; }
    .form-field { display:flex; flex-direction:column; gap:6px; }
    .form-field.col-span-2 { grid-column: span 2 / span 2; }
    .btn { padding:8px 14px; border-radius:10px; border:1px solid #11182710; cursor:pointer; background:#f3f4f6; }
    .btn.primary { background:#111827; color:#fff; }
    .status { font-size:.9rem; }
    .orders-container, .wishlist-container { display:grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap:12px; }
    .order-item, .wishlist-item { border:1px solid #e5e7eb; border-radius:12px; padding:10px; background:#fff; }
    .order-item img, .wishlist-item img { width:100%; height:120px; object-fit:cover; border-radius:10px; }
    .delivered { color:#10b981; font-weight:600; }
    .processing { color:#f59e0b; font-weight:600; }
    .shipped { color:#3b82f6; font-weight:600; }
    .avatar { width:56px; height:56px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:#111827; color:#fff; font-weight:600; font-size:20px; overflow:hidden; }
    .avatar img { width:100%; height:100%; object-fit:cover; display:block; }
  </style>
</head>

<body>
  <header>
    <div class="logo"><img src="../images/mainLogo.png" alt="Nibash Logo" class="logo-img">Nibash</div>
    <nav>
      <a href="customer.html">Home</a>
      <a href="vendorDashboard.html">Vendor</a>
      <a href="../index.html" class="logout-btn" id="logoutBtn">Log out</a>
    </nav>
  </header>

  <div class="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h3>My Account</h3>
      <a href="#">Profile</a>
      <a href="#">Wishlist</a>
      <a href="#">Orders</a>
      <a href="#">Saved Collections</a>
      <a href="#">Settings</a>
    </aside>

    <!-- Main Content -->
    <main class="content">
      <!-- Quick Access -->
      <div class="card quick-access">
        <div class="profile-info">
          <div class="avatar-container">
            <div class="avatar" id="avatarBox">M</div>
          </div>
          <div class="info-container">
            <p><strong>Name:</strong> <span id="custName">‚Äî</span></p>
            <p><strong>Contact:</strong> <span id="custPhone">‚Äî</span></p>
            <p><strong>Location:</strong> <span id="custLocation">‚Äî</span></p>
            <p><strong>Email:</strong> <span id="custEmail">‚Äî</span></p>
          </div>
        </div>

        <div class="buttons-row" style="display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn upload-btn" id="uploadAvatarBtn" title="Paste a public URL in Update Info">Upload Image</button>
          <button class="btn update-btn" id="openUpdateBtn">Update Info</button>
          <button class="btn">Contact Support</button>
          <button class="btn secondary">Browse New Arrivals</button>
        </div>
      </div>
    <a href="users/shop-nearby.html" class="btn btn-primary">
  üó∫Ô∏è Find Shops Nearby
</a>
      <!-- Wishlist + Orders -->
      <div class="grid" style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
        <div class="card">
          <h4>My Wishlist</h4>
          <div id="wishlistContainer" class="wishlist-container"></div>
          <p id="wishlistEmpty" class="muted hidden">No wishlist items yet.</p>
        </div>

        <div class="card">
          <h4>My Orders</h4>
          <div id="ordersContainer" class="orders-container"></div>
          <p id="ordersEmpty" class="muted hidden">No orders found.</p>
        </div>
      </div>
      
      <!-- Activity Feed (static demo) -->
      <div class="activity-card card">
        <h4>Activity Feed</h4>
        <div class="activity-grid">
          <div class="activity">üÜï New arrivals in your style!</div>
          <div class="activity">‚ù§Ô∏è Wishlist item "Wool Sofa" on sale!</div>
          <div class="activity">üèÖ You earned loyalty badge for purchase!</div>
          <div class="activity">‚úçÔ∏è Your review of "Loyalty" was approved!</div>
        </div>
      </div>
    </main>
  </div>

  <!-- Update Info Dialog -->
  <div class="dialog-backdrop" id="editDialog">
    <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="editDialogTitle">
      <header>
        <h3 id="editDialogTitle">Update Your Info</h3>
        <button class="btn" id="closeEditBtn" aria-label="Close">‚úï</button>
      </header>
        
      <div class="form-grid">
        <label class="form-field">
          <span>Name *</span>
          <input id="editName" type="text" />
        </label>
        <label class="form-field">
          <span>Phone *</span>
          <input id="editPhone" type="text" />
        </label>
        <label class="form-field">
          <span>Location *</span>
          <input id="editLocation" type="text" placeholder="e.g., Dhaka, BD" />
        </label>
        <label class="form-field">
          <span>Email *</span>
          <input id="editEmail" type="email" />
        </label>
        <label class="form-field col-span-2">
          <span>Avatar URL (optional)</span>
          <input id="editAvatarUrl" type="url" placeholder="https://..." />
        </label>
      </div>

      <footer>
        <span id="editStatus" class="status muted" style="margin-right:auto"></span>
        <button class="btn" id="resetEditBtn" type="button">Reset</button>
        <button class="btn primary" id="saveEditBtn" type="button">Save Changes</button>
      </footer>
    </div>
  </div>

<script src="../scripts/customer.js"></script>

