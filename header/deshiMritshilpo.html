<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vendor Dashboard ‚Äî Nibash</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="../css/dashb.css" rel="stylesheet">
</head>
<body class="theme-pottery">

  <header>
    <div class="logo"><img src="../images/mainLogo.png" alt="Nibash Logo" class="logo-img">Nibash</div>
    <nav>
      <a href="../users/customer.html">Home</a>
      <a href="../index.html" class="logout-btn">Log out</a>
    </nav>
  </header>

  <div class="dashboard">
    <!-- sidebar -->
    <aside class="sidebar" aria-label="Account menu">
      <a href="../users/customerDashboard.html"><h3>My Account</h3></a>
      <a href="#" class="active">Profile</a>
      <a href="#">Wishlist</a>
      <a href="#">Orders</a>
      <a href="#">Saved Collections</a>
      <a href="#">Settings</a>
    </aside>

    <!-- main -->
    <main class="content">

      <!-- HERO -->
      <section class="hero" role="banner" aria-label="hero">
        <!-- slider images (cover entire hero) -->
        <div class="hero-slider" aria-hidden="true">
          <div class="slide active" style="background-image:url('../images/pott.webp')"></div>
          <div class="slide" style="background-image:url('../images/p7.jpg')"></div>
          <div class="slide" style="background-image:url('../images/pottery2.jpg')"></div>
        </div>

        <!-- arrows -->
        <button class="hero-arrow prev" aria-label="Previous slide">‚Äπ</button>
        <button class="hero-arrow next" aria-label="Next slide">‚Ä∫</button>

        <!-- main text overlay -->
        <div class="hero-text-overlay" aria-live="polite">
          <h1>Guardians of Clay: <br> Bangladesh Pottery</h1>
          <p>
            Experience the soul of Bangladesh in every handcrafted piece.
            Step into a world where clay isn't just a material, but a canvas of history,
            culture, and passion. Each handcrafted kolshi or handi carries a story ‚Äî support
            the Kumars and bring home a piece of living heritage.
          </p>
          <div class="cta">
            <button class="btn white" id="contactSupportBtn">Contact Support</button>
            <button class="btn dark" id="browseBtn">Browse New Arrivals</button>
          </div>
        </div>

        <!-- optional small image previews on right -->
        <div class="hero-right-previews" aria-hidden="true">
          <div class="preview-thumb"><img src="../images/p4.jpg" alt="preview 1"></div>
          <div class="preview-thumb"><img src="../images/p2.jpg" alt="preview 2"></div>
          <div class="preview-thumb"><img src="../images/p3.jpg" alt="preview 3"></div>
        </div>

        <!-- dots -->
        <div class="hero-controls" aria-hidden="true"></div>
      </section>


      <!-- small cards row (restored) -->
      <div class="card-row" style="margin-bottom:8px">
        <div class="card" style="flex:1">
          <div style="display:flex;align-items:center;gap:12px">
            <div class="avatar"><img src="../images/artist.jpg" alt="artisan" style="width:100%;height:100%;object-fit:cover"></div>
            <div>
              <div style="font-weight:700">Master Artisan - Rahman Ali</div>
              <div style="font-size:13px;color:#7a6f67">Known for Traditional Terracotta</div>
            </div>
          </div>
        </div>

        <div class="card" style="width:360px;align-items:center;justify-content:space-between">
          <div style="display:flex;gap:12px;align-items:center">
            <div class="avatar"><img src="../images/artist.jpg" alt="seller" style="width:100%;height:100%;object-fit:cover"></div>
            <div>
              <div style="font-weight:700">Aisha Khan</div>
              <div style="font-size:13px;color:#7a6f67">Modern designs & glazes</div>
              <div class="progressWrap" style="width:260px"><span class="progressFill"></span></div>
            </div>
          </div>
         </div>
      </div>

      <!-- Nearby Sellers -->
      <section class="section">
        <h3>New Sellers Nearby</h3>
        <div class="card-row">
          <div class="card" style="flex:1;justify-content:space-between">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="avatar"><img src="../images/artist.jpg" alt="seller"></div>
              <div>
                <div style="font-weight:700">Mizan Pottery House</div>
                <div style="font-size:13px;color:#7a6f67">Dhaka ‚Ä¢ 2km away</div>
              </div>
            </div>
            <button class="btn white message-btn" data-seller="Mizan Pottery House">Message</button>
          </div>

          <div class="card" style="flex:1;justify-content:space-between">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="avatar"><img src="../images/artist.jpg" alt="seller"></div>
              <div>
                <div style="font-weight:700">Sultana Crafts</div>
                <div style="font-size:13px;color:#7a6f67">Narayanganj ‚Ä¢ 5km away</div>
              </div>
            </div>
            <button class="btn white message-btn" data-seller="Sultana Crafts">Message</button>
          </div>
        </div>
      </section>

      <!-- Our creations (expanded examples) -->
      <section class="section" aria-labelledby="our-creations">
        <h3 id="our-creations">Our Creations</h3>
        <div class="creationsGrid" style="margin-top:12px">
          <div class="product">
            <img src="../images/pottery4.webp" alt="Terracotta Vase">
            <div class="txt">Terracotta Vase</div>
            <div style="font-weight:700;color:var(--accent)">$45</div>
            <button class="contact-seller" data-product="Terracotta Vase" data-seller="Mizan Pottery House">Contact the seller!</button>
          </div>

          <div class="product">
            <img src="../images/pottery3.webp" alt="Lamp">
            <div class="txt">Handmade Lamp</div>
            <div style="font-weight:700;color:var(--accent)">$30</div>
            <button class="contact-seller" data-product="Handmade Lamp" data-seller="Sultana Crafts">Contact the seller!</button>
          </div>

          <div class="product">
            <img src="../images/pottery.jpg" alt="Storage Jar">
            <div class="txt">Handmade Storage Jar</div>
            <div style="font-weight:700;color:var(--accent)">$38</div>
            <button class="contact-seller" data-product="Storage Jar" data-seller="Rahman Ali">Contact the seller!</button>
          </div>

          <div class="product">
            <img src="../images/p7.jpg" alt="Set">
            <div class="txt">Kolshi (Water Pot)</div>
            <div style="font-weight:700;color:var(--accent)">$22</div>
            <button class="contact-seller" data-product="Kolshi" data-seller="Mizan Pottery House">Contact the seller!</button>
          </div>

          <div class="product">
            <img src="../images/p8.jpg" alt="Decor">
            <div class="txt">Terracotta Decor Set</div>
            <div style="font-weight:700;color:var(--accent)">$60</div>
            <button class="contact-seller" data-product="Decor Set" data-seller="Aisha Khan">Contact the seller!</button>
          </div>

          <div class="product">
            <img src="../images/p4.jpg" alt="Doll">
            <div class="txt">Candle</div>
            <div style="font-weight:700;color:var(--accent)">$18</div>
            <button class="contact-seller" data-product="Candle" data-seller="Sultana Crafts">Contact the seller!</button>
          </div>
        </div>
        <!-- callout -->
        <div style="margin-top:12px;display:flex;gap:12px;align-items:center">
          <div style="flex:1;min-width:220px;background:linear-gradient(180deg,#fbf5ec,#f1e8dd);padding:16px;border-radius:12px;display:flex;flex-direction:column;justify-content:center;gap:8px">
            <strong>Your review of 'Yoyoid' the seller right now!</strong>
            <small style="color:#6b635e">Leave a quick star rating to help other buyers</small>
            <div style="margin-top:8px"><button class="btn white" style="padding:8px 12px">Write a review</button></div>
          </div>
        </div>
      </section>

      <!-- Activity Feed (restored + styled) -->
      <div class="activity-card card">
        <h4>Activity Feed</h4>
        <div class="activity-grid" style="margin-top:10px">
          <div class="activity">üÜï New pottery designs available!</div>
          <div class="activity">‚ù§Ô∏è Wishlist item "Terracotta Vase" on sale!</div>
          <div class="activity">üèÖ You earned artisan badge for sales!</div>
          <div class="activity">‚úçÔ∏è Your review of "Clay Workshop" was approved!</div>
        </div>
      </div>

    </main>
  </div>

  <!-- Chat Modal (used by message and contact buttons) -->
  <div class="chat-modal" id="chatModal" role="dialog" aria-modal="true" aria-labelledby="chatTitle">
    <div class="chat-box" role="document">
      <button class="chat-close" id="chatCloseBtn" aria-label="Close chat">‚úï</button>
      <h4 id="chatTitle">Message Seller</h4>
      <div class="meta" id="chatMeta">To: <strong id="chatSeller">‚Äî</strong> ¬∑ Product: <span id="chatProduct">‚Äî</span></div>
      <textarea id="chatMessage" placeholder="Write a short message..." style="width:100%;height:110px;padding:10px;border-radius:8px;border:1px solid #ddd;resize:vertical"></textarea>
      <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
        <button class="btn white" id="chatCancel">Cancel</button>
        <button class="btn dark" id="chatSend">Send Message</button>
      </div>
      <div id="chatStatus" style="margin-top:10px;font-size:13px;color:green;display:none">Message sent ‚úî</div>
    </div>
  </div>

  <script>
    /* ===== HERO SLIDER (touch + mouse drag + arrows + dots + pause) ===== */
    (function(){
      const hero = document.querySelector('.hero');
      const slides = Array.from(document.querySelectorAll('.hero-slider .slide'));
      const prevBtn = document.querySelector('.hero-arrow.prev');
      const nextBtn = document.querySelector('.hero-arrow.next');
      const controls = document.querySelector('.hero-controls');
      let current = 0;
      let autoplayInterval = 4000;
      let timer = null;
      let isDragging = false;
      let startX = 0;
      let moved = 0;

      // create dots
      slides.forEach((_, i) => {
        const dot = document.createElement('div');
        dot.className = 'dot' + (i === 0 ? ' active' : '');
        dot.dataset.index = i;
        dot.title = 'Go to slide ' + (i+1);
        controls.appendChild(dot);
      });
      const dots = Array.from(controls.querySelectorAll('.dot'));

      function showSlide(index) {
        index = (index + slides.length) % slides.length;
        slides.forEach((s,i) => s.classList.toggle('active', i === index));
        dots.forEach((d,i) => d.classList.toggle('active', i === index));
        current = index;
      }

      function next() { showSlide(current + 1); }
      function prev() { showSlide(current - 1); }

      // autoplay
      function startAutoplay() {
        stopAutoplay();
        timer = setInterval(next, autoplayInterval);
      }
      function stopAutoplay() {
        if (timer) { clearInterval(timer); timer = null; }
      }
      startAutoplay();

      // arrows
      nextBtn.addEventListener('click', () => { next(); resetAutoplay(); });
      prevBtn.addEventListener('click', () => { prev(); resetAutoplay(); });

      // dots click
      dots.forEach(dot => {
        dot.addEventListener('click', (e) => {
          showSlide(Number(dot.dataset.index));
          resetAutoplay();
        });
      });

      // pause on hover/focus
      hero.addEventListener('mouseenter', stopAutoplay);
      hero.addEventListener('mouseleave', startAutoplay);
      hero.addEventListener('focusin', stopAutoplay);
      hero.addEventListener('focusout', startAutoplay);

      function resetAutoplay() { stopAutoplay(); setTimeout(startAutoplay, 2000); }

      // touch support
      hero.addEventListener('touchstart', e => {
        startX = e.touches[0].clientX;
        moved = 0;
      }, {passive:true});
      hero.addEventListener('touchmove', e => {
        const dx = e.touches[0].clientX - startX;
        moved = dx;
      }, {passive:true});
      hero.addEventListener('touchend', e => {
        if (Math.abs(moved) > 50) {
          if (moved > 0) prev(); else next();
          resetAutoplay();
        }
      });

      // mouse drag for desktop
      hero.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX;
        hero.classList.add('dragging');
      });
      window.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        moved = e.clientX - startX;
      });
      window.addEventListener('mouseup', (e) => {
        if (!isDragging) return;
        isDragging = false;
        hero.classList.remove('dragging');
        if (Math.abs(moved) > 60) {
          if (moved > 0) prev(); else next();
          resetAutoplay();
        }
        moved = 0;
      });

      // keyboard arrows
      window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') { prev(); resetAutoplay(); }
        if (e.key === 'ArrowRight') { next(); resetAutoplay(); }
        if (e.key === 'Escape') closeChat();
      });

      // pre-load images (non-blocking)
      slides.forEach(s => {
        const url = (s.style.backgroundImage || '').replace(/^url\(["']?/, '').replace(/["']?\)$/, '');
        if (url) {
          const img = new Image(); img.src = url;
        }
      });
    })();

    /* ===== Chat modal logic (used by both 'Message' and 'Contact the seller!') ===== */
    (function(){
      const chatModal = document.getElementById('chatModal');
      const chatSeller = document.getElementById('chatSeller');
      const chatProduct = document.getElementById('chatProduct');
      const chatMessage = document.getElementById('chatMessage');
      const chatStatus = document.getElementById('chatStatus');
      const chatCloseBtn = document.getElementById('chatCloseBtn');
      const chatSend = document.getElementById('chatSend');
      const chatCancel = document.getElementById('chatCancel');

      // open chat helper
      function openChat({ seller = '‚Äî', product = '‚Äî' } = {}) {
        chatSeller.textContent = seller;
        chatProduct.textContent = product;
        chatMessage.value = `Hi ${seller}, I'm interested in "${product}". Can I know more?`;
        chatStatus.style.display = 'none';
        chatModal.classList.add('active');
        chatMessage.focus();
      }

      // close
      function closeChat() {
        chatModal.classList.remove('active');
      }

      // wire message buttons (nearby sellers)
      document.querySelectorAll('.message-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const seller = btn.dataset.seller || btn.textContent.trim() || 'Seller';
          openChat({ seller, product: 'General Inquiry' });
        });
      });

      // wire product contact buttons
      document.querySelectorAll('.contact-seller').forEach(btn => {
        btn.addEventListener('click', () => {
          const seller = btn.dataset.seller || 'Seller';
          const product = btn.dataset.product || 'Product';
          openChat({ seller, product });
        });
      });

      // support header contact support button
      document.getElementById('contactSupportBtn').addEventListener('click', () => {
        openChat({ seller: 'Nibash Support', product: 'Support' });
      });

      // modal actions
      chatCloseBtn.addEventListener('click', closeChat);
      chatCancel.addEventListener('click', closeChat);

      chatSend.addEventListener('click', () => {
        // simulate sending
        chatStatus.textContent = 'Message sent ‚úî';
        chatStatus.style.display = 'block';
        // small delay then close
        setTimeout(() => {
          closeChat();
        }, 900);
      });

      // close when clicking outside content
      chatModal.addEventListener('click', (e) => {
        if (e.target === chatModal) closeChat();
      });

      // make closeChat available globally for keyboard ESC used earlier
      window.closeChat = closeChat;
    })();
  </script>
</body>
</html>